C51 COMPILER V7.10   12864BK                                                               08/02/2009 18:45:50 PAGE 1   


C51 COMPILER V7.10, COMPILATION OF MODULE 12864BK
OBJECT MODULE PLACED IN 12864BK.OBJ
COMPILER INVOKED BY: C:\Program Files\Keil\C51\BIN\C51.EXE 12864BK.c BROWSE DEBUG OBJECTEXTEND

line level    source

   1          /*******************************************************************************
   2          *  标题:  xl系列单片机实验仪演示程序   12864带字库演示 图片与文字显示          *
   3          *     ST7920控制芯片(汉字库)，并口模式。                                       *
   4          *  日期:  2006-1-5                                                             *
   5          *  版本:  3.0 （试验通过版）可用xl600-xl1000单片机综合试验仪试验               *
   6          *  邮箱:  sxj1974@163.com                                                      *
   7          *  网站： http://www.51c51.com    www.8951.com                                 *
   8          ********************************************************************************
   9          *  描述:                                                                       *
  10          *      12864标准字库液晶演示 数据p0,控制p2                                     *
  11          ********************************************************************************
  12          * 【版权】 Copyright(C)深圳市学林电子有限公司 www.51c51.com                    *
  13          * 【声明】 此程序仅用于学习与参考，引用请注明版权和作者信息！                  *
  14          *  【技术支持】请访问http://www.51c51.com/bbs/index.asp  官方论坛              *
  15          ********************************************************************************/
  16          #include <reg51.h>
  17          #include <intrins.h>
  18          #define uchar unsigned char
  19          #define uint  unsigned int
  20          /************* 12864LCD引脚定义 *************/
  21          #define LCD_data  P0       //数据口
  22          sbit LCD_RS  =  P2^6;      //寄存器选择输入 
  23          sbit LCD_RW  =  P2^5;      //液晶读/写控制
  24          sbit LCD_EN  =  P2^7;      //液晶使能控制
  25          sbit LCD_PSB =  P3^2;      //串/并方式控制
  26          sbit LCD_RST =  P3^7;      //液晶复位端口
  27          
  28          
  29          #define delayNOP(); {_nop_();_nop_();_nop_();_nop_();};
  30          /*********************************************************/
  31          uchar code  DIS1[] = {"    普中科技    "};
  32          uchar code  DIS2[] = {"自学单片机第一站"};
  33          uchar code  DIS3[] = {"www.prechin.com "};
  34          uchar code  DIS4[] = {"TEL:755-29325187"};
  35          /*********************************************************/
  36          uchar code Photo1[] ={
  37           0x00,0x00,0x00,0x04,0x00,0x00,0x00,0x00,
  38                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  39                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  40                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  41                0x00,0x00,0x00,0x00,0x00,0x01,0x3F,0xC0,
  42                0x80,0x42,0x04,0x20,0x00,0x00,0x00,0x00,
  43                0x00,0x00,0x00,0x00,0x00,0x00,0x8A,0x1F,
  44                0xFC,0x42,0x04,0xF8,0x00,0x00,0x00,0x00,
  45                0x00,0x00,0x00,0x00,0x00,0x00,0x3F,0x80,
  46                0x01,0xFF,0xDE,0x88,0x00,0x00,0x00,0x00,
  47                0x00,0x00,0x00,0x00,0x00,0x01,0x2A,0x87,
  48                0xF0,0xA2,0x0A,0xF8,0x00,0x00,0x00,0x00,
  49                0x00,0x00,0x00,0x00,0x00,0x00,0xBF,0x84,
  50                0x10,0xA2,0x0A,0x88,0x00,0x00,0x00,0x00,
  51                0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x1F,
  52                0xFC,0xA2,0x0A,0xF8,0x00,0x00,0x00,0x00,
  53                0x00,0x00,0x00,0x00,0x00,0x00,0x9F,0x90,
  54                0x05,0x2F,0xCA,0xA4,0x00,0x00,0x00,0x00,
  55                0x00,0x00,0x00,0x00,0x00,0x01,0x80,0x03,
C51 COMPILER V7.10   12864BK                                                               08/02/2009 18:45:50 PAGE 2   

  56                0xE1,0xA8,0x4A,0xA8,0x00,0x00,0x00,0x00,
  57                0x00,0x00,0x00,0x00,0x00,0x00,0xBF,0xC2,
  58                0x24,0x48,0x44,0x90,0x00,0x00,0x00,0x00,
  59                0x00,0x00,0x00,0x00,0x00,0x00,0x92,0x84,
  60                0x24,0xA8,0x4A,0xA8,0x00,0x00,0x00,0x00,
  61                0x00,0x00,0x00,0x00,0x00,0x00,0xA6,0x58,
  62                0x3D,0x0F,0xD0,0xC4,0x00,0x00,0x00,0x00,
  63                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  64                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  65                0x00,0x1C,0xFF,0xC0,0x00,0x00,0x00,0x00,
  66                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  67                0x00,0x23,0x08,0x37,0x80,0x00,0x00,0x00,
  68                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  69                0x00,0x40,0x10,0x08,0x40,0x00,0xFF,0x90,
  70                0x10,0x08,0x00,0x00,0x00,0x00,0x00,0x00,
  71                0x00,0x81,0x86,0x10,0x40,0x00,0x08,0x08,
  72                0x10,0xFF,0x86,0x00,0x00,0x00,0x00,0x00,
  73                0x01,0x02,0x49,0x40,0x40,0x00,0x7F,0x0B,
  74                0xFC,0x08,0x0F,0x00,0x00,0x00,0x00,0x00,
  75                0x01,0x08,0x00,0x40,0x20,0x00,0x10,0x00,
  76                0x10,0x49,0x0F,0x00,0x00,0x00,0x00,0x00,
  77                0x02,0x08,0x00,0x20,0x20,0x01,0xFF,0xDD,
  78                0x10,0x2A,0x0F,0x00,0x00,0x00,0x00,0x00,
  79                0x04,0x31,0x83,0x20,0x20,0x00,0x20,0x04,
  80                0x91,0xFF,0xC6,0x00,0x00,0x00,0x00,0x00,
  81                0x04,0x52,0x44,0x90,0x20,0x00,0x7F,0x04,
  82                0x90,0x1C,0x06,0x00,0x00,0x00,0x00,0x00,
  83                0x09,0xA4,0x28,0x4C,0x10,0x00,0xA1,0x04,
  84                0x10,0x2A,0x00,0x00,0x00,0x00,0x00,0x00,
  85                0x0E,0x44,0xE9,0xC3,0x90,0x01,0x3F,0x04,
  86                0x70,0x49,0x06,0x00,0x00,0x00,0x00,0x00,
  87                0x00,0x82,0xC5,0x81,0x70,0x00,0x21,0x0A,
  88                0x01,0x88,0xC6,0x00,0x00,0x00,0x00,0x00,
  89                0x01,0x01,0x83,0x00,0x80,0x00,0x3F,0x11,
  90                0xFC,0x08,0x00,0x00,0x00,0x00,0x00,0x00,
  91                0x01,0x0C,0x70,0x00,0x80,0x00,0x00,0x00,
  92                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  93                0x02,0x13,0x87,0x10,0x40,0x00,0x00,0x00,
  94                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  95                0x02,0x20,0x78,0xA0,0x40,0x00,0x00,0x00,
  96                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  97                0x02,0x20,0x00,0x60,0x40,0x00,0x00,0x00,
  98                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  99                0x02,0x21,0x80,0x60,0x40,0x00,0x00,0x71,
 100                0xEE,0x3C,0x00,0x00,0x00,0x00,0x00,0x00,
 101                0x01,0x11,0x98,0x90,0x80,0x00,0x00,0x8E,
 102                0x31,0xC6,0x00,0x00,0x00,0x00,0x00,0x00,
 103                0x01,0x08,0x18,0x80,0x80,0x00,0x01,0x24,
 104                0x24,0x83,0x00,0x00,0x00,0x00,0x00,0x00,
 105                0x00,0x96,0x01,0x01,0x00,0x00,0x01,0x40,
 106                0x28,0x03,0x00,0x00,0x00,0x00,0x00,0x00,
 107                0x00,0x49,0x86,0x03,0x00,0x00,0x01,0x40,
 108                0x28,0x03,0x00,0x00,0x00,0x00,0x00,0x00,
 109                0x00,0x34,0x78,0x8C,0x00,0x00,0x01,0x00,
 110                0x20,0x03,0x00,0x00,0x00,0x00,0x00,0x00,
 111                0x00,0x0E,0x01,0x30,0x00,0x00,0x00,0x80,
 112                0x30,0x06,0x00,0x00,0x00,0x00,0x00,0x00,
 113                0x00,0x71,0x87,0xCE,0x00,0x00,0x00,0x40,
 114                0x68,0x0C,0x00,0x00,0x00,0x00,0x00,0x00,
 115                0x00,0xE0,0x78,0x07,0x00,0x00,0x00,0x20,
 116                0xC4,0x18,0x00,0x00,0x00,0x00,0x00,0x00,
 117                0x01,0xAF,0xFF,0xC5,0x80,0x00,0x00,0x11,
C51 COMPILER V7.10   12864BK                                                               08/02/2009 18:45:50 PAGE 3   

 118                0x82,0x30,0x00,0x00,0x00,0x00,0x00,0x00,
 119                0x03,0xA9,0xB6,0x45,0xC0,0x00,0x00,0x0B,
 120                0x01,0x60,0x00,0x00,0x00,0x00,0x00,0x00,
 121                0x07,0x2F,0x03,0xC4,0xE0,0x00,0x00,0x06,
 122                0x00,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,
 123                0x0E,0x16,0x01,0x88,0x70,0x00,0x00,0x00,
 124                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 125                0x0F,0x08,0x00,0x10,0xF0,0x00,0x00,0x00,
 126                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 127                0x0F,0x84,0x00,0x21,0xF0,0x00,0x00,0x00,
 128                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 129                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 130                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 131                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 132                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 133                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 134                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 135                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 136                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 137                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 138                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 139                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 140                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 141                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 142                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 143                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 144                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 145                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 146                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 147                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 148                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 149                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 150                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 151                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 152                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 153                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 154                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 155                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 156                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 157                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 158                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 159                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 160                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 161                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 162                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 163                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 164                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
 165          };
 166          /******************************************************************************/
 167          uchar code Photo2[] ={
 168                /*--  调入了一幅图像：G:\HC-6800\12864\C语言\pz.bmp  --*/
 169          /*--  宽度x高度=128x64  --*/
 170          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 171          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 172          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3F,0x00,
 173          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x40,0x80,
 174          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0xFE,0x60,
 175          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x63,0x20,
 176          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x02,0x63,0x10,
 177          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x63,0x08,
 178          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x7E,0x08,
 179          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x6C,0x08,
C51 COMPILER V7.10   12864BK                                                               08/02/2009 18:45:50 PAGE 4   

 180          0x1F,0xF8,0x3F,0xF8,0x7F,0xF0,0x0F,0xF9,0xF1,0xF0,0xFF,0x87,0xC3,0xC4,0x6C,0x08,
 181          0x0E,0x7C,0x1E,0xFC,0x38,0xF8,0x3E,0xF8,0xE0,0xE0,0x1C,0x03,0xC1,0x84,0x66,0x08,
 182          0x0E,0x1E,0x1C,0x3C,0x38,0x38,0x38,0x38,0xE0,0xE0,0x1C,0x03,0xE1,0x84,0x66,0x08,
 183          0x0E,0x1E,0x1C,0x1C,0x38,0x18,0x78,0x38,0xE0,0xE0,0x1C,0x03,0xE1,0x82,0x63,0x10,
 184          0x0E,0x0E,0x1C,0x1C,0x38,0x00,0xF0,0x18,0xE0,0xE0,0x1C,0x03,0xF1,0x81,0xF3,0xA0,
 185          0x0E,0x0E,0x1C,0x3C,0x38,0xC0,0xF0,0x00,0xE0,0xE0,0x1C,0x03,0xF1,0x81,0x80,0x60,
 186          0x0E,0x1E,0x1C,0x3C,0x38,0xC0,0xF0,0x00,0xE0,0xE0,0x1C,0x03,0x79,0x80,0x40,0x80,
 187          0x0E,0x1E,0x1C,0xF8,0x39,0xC0,0xE0,0x00,0xE0,0xE0,0x1C,0x03,0x79,0x80,0x3F,0x00,
 188          0x0E,0x7C,0x1F,0xF0,0x3F,0xC0,0xE0,0x00,0xFF,0xE0,0x1C,0x03,0x3D,0x80,0x00,0x00,
 189          0x0F,0xF8,0x1D,0xE0,0x39,0xC0,0xE0,0x00,0xE0,0xE0,0x1C,0x03,0x3D,0x80,0x00,0x00,
 190          0x0E,0x00,0x1D,0xE0,0x38,0xC0,0xE0,0x00,0xE0,0xE0,0x1C,0x03,0x1F,0x80,0x00,0x00,
 191          0x0E,0x00,0x1C,0xF0,0x38,0xC0,0xF0,0x00,0xE0,0xE0,0x1C,0x03,0x1F,0x80,0x00,0x00,
 192          0x0E,0x00,0x1C,0xF0,0x38,0x00,0xF0,0x00,0xE0,0xE0,0x1C,0x03,0x0F,0x80,0x00,0x00,
 193          0x0E,0x00,0x1C,0x78,0x38,0x00,0xF0,0x18,0xE0,0xE0,0x1C,0x03,0x0F,0x80,0x00,0x00,
 194          0x0E,0x00,0x1C,0x78,0x38,0x18,0x70,0x38,0xE0,0xE0,0x1C,0x03,0x07,0x80,0x00,0x00,
 195          0x0E,0x00,0x1C,0x78,0x38,0x38,0x78,0x30,0xE0,0xE0,0x1C,0x03,0x07,0x80,0x00,0x00,
 196          0x0E,0x00,0x1C,0x3C,0x38,0xF8,0x3E,0xF0,0xE0,0xE0,0x1C,0x03,0x03,0x80,0x00,0x00,
 197          0x1F,0x00,0x3E,0x3E,0x7F,0xF0,0x1F,0xE1,0xF1,0xF0,0xFF,0x87,0x83,0x80,0x00,0x00,
 198          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 199          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 200          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 201          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 202          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 203          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 204          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 205          0x00,0x00,0xF0,0x38,0x00,0x00,0x78,0x00,0x00,0x18,0x07,0x80,0x1C,0x03,0x80,0x00,
 206          0x00,0x00,0x7C,0x7C,0x00,0x00,0x78,0x00,0x00,0x7C,0x07,0x80,0x1C,0x03,0xC0,0x00,
 207          0x00,0x00,0x3C,0x70,0x00,0x00,0x70,0x00,0x07,0xFC,0x07,0x00,0x1C,0x03,0x80,0x00,
 208          0x00,0x00,0x1C,0xE3,0xC0,0x00,0x70,0x00,0x1F,0xE1,0xC7,0x00,0x1C,0x03,0x80,0x00,
 209          0x00,0x0F,0xFF,0xFF,0xE0,0x00,0x70,0x00,0x00,0xE1,0xE7,0x00,0x1C,0x03,0x80,0x00,
 210          0x00,0x06,0x1C,0xE6,0x00,0xFF,0xFF,0xFC,0x00,0xE0,0xF7,0x00,0x1D,0x83,0x9E,0x00,
 211          0x00,0x07,0x1C,0xE7,0x80,0xFF,0xFF,0xFC,0x00,0xE0,0xF7,0x03,0xFF,0xFF,0xFE,0x00,
 212          0x00,0x03,0x9C,0xEF,0x80,0xE0,0x70,0x38,0x00,0xEE,0x67,0x00,0x1C,0x03,0x80,0x00,
 213          0x00,0x03,0xDC,0xEE,0x00,0xE0,0x70,0x38,0x3F,0xFE,0x07,0x00,0x1C,0x03,0x80,0x00,
 214          0x00,0x01,0xFC,0xFC,0x00,0xE0,0x70,0x38,0x01,0xE0,0x07,0x00,0x1C,0x03,0x80,0x00,
 215          0x00,0x01,0xDC,0xF8,0xE0,0xE0,0x70,0x38,0x01,0xE1,0xC7,0x00,0x1D,0xC3,0xB8,0x00,
 216          0x00,0x3F,0xFF,0xFF,0xF0,0xE0,0x70,0x38,0x03,0xF1,0xE7,0x00,0x1F,0xFF,0xFC,0x00,
 217          0x00,0x3F,0xFF,0xFF,0xF0,0xE0,0x70,0x38,0x03,0xFC,0xE7,0x00,0x7E,0x38,0x38,0x00,
 218          0x00,0x00,0x80,0x0C,0x00,0xFF,0xFF,0xF8,0x07,0xFE,0xE7,0xE3,0xFC,0x18,0x78,0x00,
 219          0x00,0x00,0xFF,0xFE,0x00,0xE0,0x70,0x38,0x07,0xFE,0x07,0xF3,0xFC,0x1C,0x70,0x00,
 220          0x00,0x00,0xFF,0xFE,0x00,0xE0,0x70,0x38,0x0F,0xEC,0x3F,0xC1,0x9C,0x1C,0xF0,0x00,
 221          0x00,0x00,0xE0,0x1E,0x00,0x00,0x70,0x00,0x0E,0xE7,0xFF,0x00,0x1C,0x0E,0xE0,0x00,
 222          0x00,0x00,0xE0,0x1E,0x00,0x00,0x70,0x00,0x1C,0xEF,0x07,0x00,0x1C,0x0F,0xE0,0x00,
 223          0x00,0x00,0xFF,0xFE,0x00,0x00,0x70,0x00,0x38,0xE0,0x07,0x00,0x1C,0x07,0xC0,0x00,
 224          0x00,0x00,0xE0,0x1E,0x00,0x00,0x70,0x00,0x30,0xE0,0x07,0x00,0x1C,0x07,0x80,0x00,
 225          0x00,0x00,0xE0,0x1E,0x00,0x00,0x70,0x00,0x00,0xE0,0x07,0x00,0x1C,0x0F,0xE0,0x00,
 226          0x00,0x00,0xE0,0x1E,0x00,0x00,0x70,0x00,0x00,0xE0,0x07,0x01,0xDC,0x3F,0xF8,0x00,
 227          0x00,0x00,0xFF,0xFE,0x00,0x00,0x70,0x00,0x00,0xE0,0x07,0x01,0xFC,0x78,0xFF,0x00,
 228          0x00,0x00,0xE0,0x1E,0x00,0x00,0x70,0x00,0x00,0xE0,0x07,0x00,0x7F,0xE0,0x3F,0x00,
 229          0x00,0x00,0xC0,0x1C,0x00,0x00,0x70,0x00,0x00,0xC0,0x07,0x00,0x37,0x80,0x0C,0x00,
 230          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 231          0x0F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFC,
 232          0x0F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFC,
 233          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
 234          
 235          };
 236          /*******************************************************************/
 237          /*                                                                 */
 238          /*  延时函数                                                       */
 239          /*                                                                 */
 240          /*******************************************************************/
 241          void delay(int ms)
C51 COMPILER V7.10   12864BK                                                               08/02/2009 18:45:50 PAGE 5   

 242          {
 243   1          while(ms--)
 244   1              {
 245   2            uchar i;
 246   2                for(i=0;i<150;i++)  
 247   2                 {
 248   3                  _nop_();                       
 249   3                      _nop_();
 250   3                      _nop_();
 251   3                      _nop_();
 252   3                 }
 253   2              }
 254   1      }       
 255          /*******************************************************************/
 256          /*                                                                 */
 257          /*  延时函数                                                       */
 258          /*                                                                 */
 259          /*******************************************************************/
 260          void delay1(int ms)
 261          {
 262   1          while(ms--)
 263   1              {
 264   2            uchar y;
 265   2                for(y=0;y<100;y++) ; 
 266   2              }
 267   1      }                       
 268          /*******************************************************************/
 269          /*                                                                 */
 270          /*检查LCD忙状态                                                    */
 271          /*lcd_busy为1时，忙，等待。lcd-busy为0时,闲，可写指令与数据。      */
 272          /*                                                                 */
 273          /*******************************************************************/
 274          bit lcd_busy()
 275           {                          
 276   1          bit result;
 277   1          LCD_RS = 0;
 278   1          LCD_RW = 1;
 279   1          LCD_EN = 1;
 280   1          delayNOP();
 281   1          result = (bit)(P0&0x80);
 282   1          LCD_EN = 0;
 283   1          return(result); 
 284   1       }
 285          /*******************************************************************/
 286          /*                                                                 */
 287          /*写指令数据到LCD                                                  */
 288          /*RS=L，RW=L，E=高脉冲，D0-D7=指令码。                             */
 289          /*                                                                 */
 290          /*******************************************************************/
 291          void lcd_wcmd(uchar cmd)
 292          {                          
 293   1         while(lcd_busy());
 294   1          LCD_RS = 0;
 295   1          LCD_RW = 0;
 296   1          LCD_EN = 0;
 297   1          _nop_();
 298   1          _nop_(); 
 299   1          P0 = cmd;
 300   1          delayNOP();
 301   1          LCD_EN = 1;
 302   1          delayNOP();
 303   1          LCD_EN = 0;  
C51 COMPILER V7.10   12864BK                                                               08/02/2009 18:45:50 PAGE 6   

 304   1      }
 305          /*******************************************************************/
 306          /*                                                                 */
 307          /*写显示数据到LCD                                                  */
 308          /*RS=H，RW=L，E=高脉冲，D0-D7=数据。                               */
 309          /*                                                                 */
 310          /*******************************************************************/
 311          void lcd_wdat(uchar dat)
 312          {                          
 313   1         while(lcd_busy());
 314   1          LCD_RS = 1;
 315   1          LCD_RW = 0;
 316   1          LCD_EN = 0;
 317   1          P0 = dat;
 318   1          delayNOP();
 319   1          LCD_EN = 1;
 320   1          delayNOP();
 321   1          LCD_EN = 0; 
 322   1      }
 323          /*******************************************************************/
 324          /*                                                                 */
 325          /*  LCD初始化设定                                                  */
 326          /*                                                                 */
 327          /*******************************************************************/
 328          void lcd_init()
 329          { 
 330   1          LCD_PSB = 1;         //并口方式
 331   1          
 332   1              LCD_RST = 0;             //液晶复位
 333   1          delay(3);                   
 334   1          LCD_RST = 1;      
 335   1          delay(3);
 336   1          
 337   1          lcd_wcmd(0x34);      //扩充指令操作
 338   1          delay(5);
 339   1          lcd_wcmd(0x30);      //基本指令操作
 340   1          delay(5);
 341   1          lcd_wcmd(0x0C);      //显示开，关光标
 342   1          delay(5);
 343   1          lcd_wcmd(0x01);      //清除LCD的显示内容
 344   1          delay(5);
 345   1      }
 346          /*********************************************************/
 347          /*                                                       */
 348          /* 设定显示位置                                          */
 349          /*                                                       */
 350          /*********************************************************/
 351          void lcd_pos(uchar X,uchar Y)
 352          {                          
 353   1         uchar  pos;
 354   1         if (X==1)
 355   1           {X=0x80;}
 356   1         else if (X==2)
 357   1           {X=0x90;}
 358   1         else if (X==3)
 359   1           {X=0x88;}
 360   1         else if (X==4)
 361   1           {X=0x98;}
 362   1         pos = X+Y ; 
 363   1       
 364   1         lcd_wcmd(pos);     //显示地址
 365   1      }
C51 COMPILER V7.10   12864BK                                                               08/02/2009 18:45:50 PAGE 7   

 366          /*********************************************************
 367          *                                                        *
 368          * 闪烁函数                                               *
 369          *                                                        *
 370          *********************************************************/
 371          void lcdflag() 
 372          {
 373   1         lcd_wcmd(0x08);   
 374   1         delay(400);
 375   1         lcd_wcmd(0x0c);   
 376   1         delay(400);
 377   1         lcd_wcmd(0x08);   
 378   1         delay(400);
 379   1         lcd_wcmd(0x0c);   
 380   1         delay(400);
 381   1         lcd_wcmd(0x08);   
 382   1         delay(200); 
 383   1         lcd_wcmd(0x0c);   
 384   1         delay(5);
 385   1         lcd_wcmd(0x01);   
 386   1         delay(5);
 387   1      }
 388          /*********************************************************
 389          *                                                        *
 390          * 图形显示                                               *
 391          *                                                        *
 392          *********************************************************/
 393          void photodisplay(uchar *bmp)   
 394          { 
 395   1        uchar i,j;
 396   1      
 397   1        lcd_wcmd(0x34);        //写数据时,关闭图形显示
 398   1      
 399   1        for(i=0;i<32;i++)
 400   1        {
 401   2          lcd_wcmd(0x80+i);    //先写入水平坐标值
 402   2          lcd_wcmd(0x80);      //写入垂直坐标值
 403   2          for(j=0;j<16;j++)   //再写入两个8位元的数据    
 404   2          lcd_wdat(*bmp++);     
 405   2          delay1(1);
 406   2        }
 407   1      
 408   1        for(i=0;i<32;i++)
 409   1        { 
 410   2          lcd_wcmd(0x80+i);
 411   2          lcd_wcmd(0x88);
 412   2          for(j=0;j<16;j++)         
 413   2              lcd_wdat(*bmp++);    
 414   2              delay1(1);
 415   2        }
 416   1        lcd_wcmd(0x36);       //写完数据,开图形显示 
 417   1      }
 418          /*********************************************************
 419          *                                                        *
 420          * 清屏函数                                               *
 421          *                                                        *
 422          *********************************************************/
 423          void  clr_screen()
 424          {
 425   1         lcd_wcmd(0x34);      //扩充指令操作
 426   1         delay(5);    
 427   1         lcd_wcmd(0x30);      //基本指令操作
C51 COMPILER V7.10   12864BK                                                               08/02/2009 18:45:50 PAGE 8   

 428   1         delay(5); 
 429   1         lcd_wcmd(0x01);      //清屏 
 430   1         delay(5);     
 431   1      }
 432          /**********************************************************
 433          ; 显示字符表代码
 434          **********************************************************/
 435          void  bytecode()
 436          {
 437   1         uchar  s;
 438   1         clr_screen();          //清屏    
 439   1         lcd_wcmd(0x80);        //设置显示位置为第一行  
 440   1         for(s=0;s<16;s++)
 441   1         {
 442   2           lcd_wdat(0x30+s); 
 443   2         }
 444   1         lcd_wcmd(0x90);        //设置显示位置为第二行 
 445   1         for(s=0;s<16;s++)
 446   1         {
 447   2           lcd_wdat(0x40+s); 
 448   2         }
 449   1         lcd_wcmd(0x88);        //设置显示位置为第三行  
 450   1         for(s=0;s<16;s++)
 451   1         {
 452   2           lcd_wdat(0x50+s); 
 453   2         }
 454   1         lcd_wcmd(0x98);       //设置显示位置为第四行   
 455   1         for(s=0;s<16;s++)
 456   1         {
 457   2           lcd_wdat(0x60+s); 
 458   2         }
 459   1      }
 460          /*********************************************************
 461          *                                                        *
 462          * 主函数                                                 *
 463          *                                                        *
 464          *********************************************************/
 465          void main()
 466          {
 467   1         uchar i;
 468   1         delay(100);                 //上电，等待稳定
 469   1         lcd_init();                 //初始化LCD
 470   1         while(1)
 471   1         {
 472   2           lcd_pos(1,0);             //设置显示位置为第一行
 473   2           for(i=0;i<16;i++)
 474   2           {
 475   3             lcd_wdat(DIS1[i]);
 476   3             delay(30);
 477   3           }
 478   2      
 479   2           lcd_pos(2,0);             //设置显示位置为第二行
 480   2           for(i=0;i<16;i++)
 481   2           {
 482   3             lcd_wdat(DIS2[i]);
 483   3             delay(30);
 484   3           }
 485   2           lcd_pos(3,0);             //设置显示位置为第三行
 486   2           for(i=0;i<16;i++)
 487   2           {
 488   3             lcd_wdat(DIS3[i]);
 489   3             delay(30);
C51 COMPILER V7.10   12864BK                                                               08/02/2009 18:45:50 PAGE 9   

 490   3           }
 491   2           lcd_pos(4,0);             //设置显示位置为第四行
 492   2           for(i=0;i<16;i++)
 493   2           {
 494   3             lcd_wdat(DIS4[i]);
 495   3             delay(30);
 496   3           }
 497   2           delay(1000);
 498   2           lcdflag();
 499   2           clr_screen();             //清屏        
 500   2           photodisplay(Photo1);     //显示图片1
 501   2           delay(2000);    
 502   2           clr_screen();             //清屏
 503   2           photodisplay(Photo2);     //显示图片2
 504   2           delay(2000);
 505   2           bytecode();               //显示字符表代码
 506   2           delay(2000);
 507   2           clr_screen();  
 508   2         }
 509   1      }
 510          /*********************************************************/
 511          
 512          
 513          
 514          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    715    ----
   CONSTANT SIZE    =   2116    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       6
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----       1
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
